<br><br><br>
<%= link_to "Sample Table", sample_table_dashboards_path %>
<br><br><br>

<% @data_table.each_with_index do |data, index| %>
    <%= "#{[index, data.size]}::#{data.inspect}" %> <br><br>
<% end %>

<%#= @htm_table.html_safe %>
<% ax = [[{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data o", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data i", :rowspan=>0}, {:text=>"Data u", :rowspan=>0}, {:text=>"Data y", :rowspan=>0}, {:text=>"Data t", :rowspan=>4}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data r", :rowspan=>6}, {:text=>" ", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"Data qq", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zz", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data xx", :rowspan=>0}, {:text=>"Data cc", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data vv", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data bb", :rowspan=>0}, {:text=>"Data nn", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zzd", :rowspan=>2}, {:text=>" ", :rowspan=>0}, {:text=>"Data gg", :rowspan=>0}, {:text=>"Data hh", :rowspan=>2}, {:text=>"Data pp", :rowspan=>0}, {:text=>"Data cll", :rowspan=>3}, {:text=>"", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data cwxwx", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data qatyh", :rowspan=>0}, {:text=>"Data djdj", :rowspan=>2}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data yhn", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data rfvc", :rowspan=>0}, {:text=>"Data yui", :rowspan=>0}, {:text=>"Data rty", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data edc", :rowspan=>3}, {:text=>"Data xyw", :rowspan=>3}, {:text=>"Data zxc", :rowspan=>0}, {:text=>"Data xcv", :rowspan=>0}, {:text=>"Data yui", :rowspan=>0}, {:text=>"Data ryt", :rowspan=>0}, {:text=>"Data cwer", :rowspan=>3}, {:text=>"Data asd", :rowspan=>3}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data dfg", :rowspan=>0}, {:text=>"Data fgf", :rowspan=>0}, {:text=>"Data kkhk", :rowspan=>0}, {:text=>"Data jjj", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data yyy", :rowspan=>0}, {:text=>"Data tt", :rowspan=>0}, {:text=>"Data ff", :rowspan=>0}, {:text=>"Data vv", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data o", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data i", :rowspan=>0}, {:text=>"Data u", :rowspan=>0}, {:text=>"Data y", :rowspan=>0}, {:text=>"Data t", :rowspan=>4}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data r", :rowspan=>6}, {:text=>" ", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"Data qq", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zz", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data xx", :rowspan=>0}, {:text=>"Data cc", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data vv", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data bb", :rowspan=>0}, {:text=>"Data nn", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zzd", :rowspan=>2}, {:text=>" ", :rowspan=>0}, {:text=>"Data gg", :rowspan=>0}, {:text=>"Data hh", :rowspan=>2}, {:text=>"Data pp", :rowspan=>0}, {:text=>"Data cll", :rowspan=>3}, {:text=>"", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data cwxwx", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data qatyh", :rowspan=>0}, {:text=>"Data djdj", :rowspan=>2}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data yhn", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data rfvc", :rowspan=>0}, {:text=>"Data yui", :rowspan=>0}, {:text=>"Data rty", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data o", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data i", :rowspan=>0}, {:text=>"Data u", :rowspan=>0}, {:text=>"Data y", :rowspan=>0}, {:text=>"Data t", :rowspan=>4}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data r", :rowspan=>6}, {:text=>" ", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"Data qq", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zz", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data xx", :rowspan=>0}, {:text=>"Data cc", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data vv", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data bb", :rowspan=>0}, {:text=>"Data nn", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data c", :rowspan=>0}, {:text=>"Data d", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"", :rowspan=>0}, {:text=>"Data k", :rowspan=>2}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data A", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data b", :rowspan=>0}, {:text=>"Data n", :rowspan=>0}, {:text=>"Data pData h\n            ", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data o", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data i", :rowspan=>0}, {:text=>"Data u", :rowspan=>0}, {:text=>"Data y", :rowspan=>0}, {:text=>"Data t", :rowspan=>4}, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data r", :rowspan=>6}, {:text=>" ", :rowspan=>0}, {:text=>"Data e", :rowspan=>0}, {:text=>"Data w", :rowspan=>0}, {:text=>"Data qq", :rowspan=>0}, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data zz", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data xx", :rowspan=>0}, {:text=>"Data cc", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}], [{:text=>"Main Data", :rowspan=>0}, {:text=>"Data vv", :rowspan=>0}, {:text=>" ", :rowspan=>0}, {:text=>"Data bb", :rowspan=>0}, {:text=>"Data nn", :rowspan=>0}, nil, nil, {:text=>"Data r", :rowspan=>0}, {:text=>"Data g", :rowspan=>0}]]










%>

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>><br>
<% ax.each_with_index do |data, index| %>
    <%= "#{[index, data.size]}::#{data.inspect}" %> <br><br>
<% end %>


<% row_counter=0 %>
<% data_array_2 = [] %>
<% @data_table.each_with_index do |row, row_index| %>
    <% row.each_with_index do |col, col_index| %>
        <% row_pointer = row_index %>
        <% col_counter = col_index %>
        <% (1..col[:rowspan]).each do |n| %>
            <% if row_index == row_counter && col_index == 0 %>
                <% @data_table[row_pointer].delete_at(col_index) if @data_table[row_pointer].present? && (row_index == col_index) %>
                <% new_col = {text: col[:text], rowspan: 0} %>
                <% new_row = @data_table[row_pointer] %>
                <% if new_row[col_index].present? %>
                    <%# new_row = new_row.insert(col_index, new_col) %>
                <% end %>
                <%# data_array_2 << new_row if new_row.present? %>
            <% end %>
            <%# row_pointer+=1 %>
        <% end %>
        ====================================================================<br>
    <% end %>
    <%# row_counter+=1 %>
    <%# col_counter+=1 %>
<% end %>

<%#= TableScript::HtmlTable.new.generate_table(data_array_2).html_safe %>
====================================================================<br>
<% data_array_2.each do |data| %>
    <%#= data.inspect %> <br><br>
<% end %>
